<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
    <meta http-equiv="cache-control" content="max-age=0" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="cache-control" content="no-store" />
<meta http-equiv="cache-control" content="must-revalidate" />
<meta http-equiv="expires" content="0" />
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
<meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
		<title>Templatter - Create a Website!</title>
		<!-- Bootstrap -->
    <link href="static/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Abril+Fatface|Raleway|Inconsolata|Indie+Flower|Montserrat|Open+Sans|Playfair+Display|Roboto|Roboto+Condensed|Ubuntu|Kalam" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet" />

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
	</head>

	<body>
    <style>
      div.pageDiv {
        border-radius: 5px;
        padding:1em;
        border: 1px solid #999;
      }
      div.sectionDiv {
        border-radius: 5px;
        padding:1em;
        border: 1px solid #999;
      }
    </style>

		<div id="navbar-wrap">
  <nav id="main-navbar" class="navbar navbar-static">
    <div class="container-fluid">
      <div class="navbar-header">
        <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".bs-example-js-navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <div class="navbar-brand" href="index.html">
          <span id="business-title" style="color:#290;"><br/><b>Templatter</b></span>
          <div id="business-subtitle"><i>Unique websites with one click</i></div>
        </div>
      </div>
      <div class="collapse navbar-collapse bs-example-js-navbar-collapse">
        
        <ul class="nav navbar-nav">
          
        </ul>

    

      </div><!-- /.nav-collapse -->
    </div><!-- /.container-fluid -->
  </nav> <!-- /navbar-example -->
</div>
	<br>
  <div class="container">
  <h1>First, upload some photos!</h1>
    <div id="addPhotoList">
    <form method=post enctype=multipart/form-data>
      <input type="hidden" name="formType" value="file" />
      <p> 
        <input type=file name=file id="file0">
        <input type=submit value=Upload>
      </p>
    </form>
    </div>

    <input type="button" id="addPhoto" value="+1 Photo">
    <br><br>
    <form method=post>
        <h1>Second, what's the website called?</h1>
        <input type="hidden" name="formType" value="content" />
        <input type=text name="siteTitle" placeholder="Website Title">
        <input type=text name="siteSubtitle" placeholder="Website Subtitle"><br>
        <h1>Third, what pages do you want?</h1>
        
        <div id="addPageList">
        </div>

        <input type="button" id="addPage" value="+1 Page"><br><br>
      <input type=submit value="Make me a website!">
    </form>

	<a href="/static/gen">Go to your new layout!</a>
</div>
	
		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script> 
      $(document).ready(function(){
        $('#addPhoto').click(addPhoto);
        $('#addPage').click(addPage);
      });

      var photoCount = 0;
      function addPhoto() {
          photoCount++;
          var strToAdd = '<form method=post enctype=multipart/form-data><p><input type=file name="file" id="file'+photoCount+'"><input type=submit value=Upload></p></form>';
          $('#addPhotoList').append(strToAdd);
      }
      var pageCount = -1;
      function addPage() {
          pageCount++;
          var strToAdd="";
          strToAdd += "<div id=\"page0\" class=\"pageDiv\">";
          strToAdd += "<input type=\"hidden\" name=\"page0\" value=\"exists\" />";
          strToAdd += "            <h3>page0<\/h3>";
          strToAdd += "            <input type=text name=\"page0Title\" placeholder=\"Page Title\">";
          strToAdd += "            <input type=text name=\"page0Subtitle\" placeholder=\"Page Subtitle\">";
          strToAdd += "            <h3>Type of Page:<\/h3>";
          strToAdd += "            <select name=\"page0PageType\">";
          strToAdd += "              <option value=\"homePage\">Home Page<\/option>";
          strToAdd += "              <option value=\"aboutPage\">About Page<\/option>";
          strToAdd += "              <option value=\"contactPage\">Contact Page<\/option>";
          strToAdd += "              <option value=\"generalPage\" selected>General Page<\/option>";
          strToAdd += "            <\/select>";
          strToAdd += "            <h2>Intro<\/h2>";
          strToAdd += "              <h4>Main Image:<\/h4>";
          strToAdd += "              <input type=text name=\"page0MainImage\" placeholder=\"Image URL\">";
          strToAdd += "              <h4>Call to Action<\/h4>";
          strToAdd += "              <input type=text name=\"page0CTAHeading\" placeholder=\"Heading\">";
          strToAdd += "              <input type=text name=\"page0CTASubheading\" placeholder=\"Subheading\">";
          strToAdd += "              <input type=text name=\"page0CTAActionButton\" placeholder=\"Action Button Text\">";
          strToAdd += "              <input type=text name=\"page0CTAActionLink\" placeholder=\"Action Button Link\">";
          strToAdd += "            <h2>Details<\/h2>";
          strToAdd += "            <h3>Sections<\/h3>";
          strToAdd += "              <div id=\"page0SectionList\">";
          strToAdd += "              <\/div>";
          strToAdd += "              <input type=\"button\" id=\"page0AddSection\" value=\"+1 Section\">";
          strToAdd += "          <\/div>";
          strToAdd = strToAdd.replace(/page0/ig, function(){ return "page"+pageCount.toString(); });
          $('#addPageList').append(strToAdd);
          $('#page'+pageCount.toString()+'AddSection').click(addSection);
          sectionCounts[pageCount] = -1;
      }
      var sectionCounts = {};
      function addSection(e) {
          id = e.target.id
          senderStr = id.slice(0,-10);
          console.log(senderStr);
          senderPage = parseInt(senderStr.slice(4));
          sectionCounts[senderPage]++;
          sectionCount = sectionCounts[senderPage];
          var strToAdd="";
          strToAdd += "                <div id=\"page0Section0\" class=\"sectionDiv\">";
          strToAdd += "<input type=\"hidden\" name=\"page0Section0\" value=\"exists\" />";
          strToAdd += "                  <input type=text name=\"page0Section0Heading\" placeholder=\"Heading\"><br>";
          strToAdd += "                  <input type=text name=\"page0Section0Subheading\" placeholder=\"Subheading\"><br>";
          strToAdd += "                  <textarea name=\"page0Section0Paragraph\" rows=\"10\" cols=\"50\"  >Paragraph<\/textarea><br>";
          strToAdd += "                  <input type=text name=\"page0Section0Image\" placeholder=\"Image URL\">";
          strToAdd += "                <\/div>";
          strToAdd = strToAdd.replace(/page0/ig, function(){ return "page"+pageCount.toString(); });
          strToAdd = strToAdd.replace(/section0/ig, function(){ return "Section"+sectionCount.toString(); });
          $('#'+senderStr+'SectionList').append(strToAdd);
      }



    </script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
	</body>
</html>
